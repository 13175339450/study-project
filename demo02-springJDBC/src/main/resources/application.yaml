server:
  port: 50001  # 项目端口

logging:
  # 日志格式：基础信息
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss,SSS} [%thread] %-5level %c{8}:%L - %m%n"
    file: "%d{yyyy-MM-dd HH:mm:ss,SSS} [%thread] %-5level %c{8}:%L - %m%n"

  # 日志文件配置
  file:
    name: ./demo02-springJDBC/log/app.log

  logback:
    rollingpolicy:
      file-name-pattern: ./demo02-springJDBC/log/%d{yyyy-MM-dd}/app_%d{yyyy-MM-dd}_%i.log.gz
      max-file-size: 50MB
      max-history: 30
      clean-history-on-start: false

  # 控制日志级别，仅让“启动端口日志”显示
  level:
    root: INFO  # 根日志级别

    # 1. 让 Web 服务器（如 Tomcat/Undertow）的启动日志显示（打印端口）
    # 用 Tomcat（默认），配置这个：
    org.springframework.boot.web.embedded.tomcat.TomcatWebServer: INFO

    # 2. 其他框架日志仍设为 WARN，减少冗余（避免干扰）
    org.springframework: WARN  # 除了上面的 WebServer 类，其他 Spring 日志还是 WARN
    io.undertow: WARN
    com.zaxxer.hikari: WARN
    org.mybatis: WARN
    org.hibernate.validator: WARN
    com.baomidou.mybatisplus: WARN
    springfox.documentation.swagger: ERROR

    # 3. 请求日志按需求配置
    com.example.aop.WebLogAspect: DEBUG
    com.example.controller: INFO